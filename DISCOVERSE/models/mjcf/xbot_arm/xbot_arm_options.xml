<mujocoinclude>
  <option integrator="RK4" solver="Newton" />
  <compiler angle="radian" meshdir="../../meshes/" texturedir="../meshes/"/>
  
  <!-- 材质定义 -->
  <asset>
    <!-- 材质定义 - 从URDF中提取准确颜色 -->
    <material name="xbot_material" rgba="0.7 0.7 0.7 1" specular="0.1" shininess="0.1"/>
    <material name="xbot_green_material" rgba="0.7 0.75 0.7 1" specular="0.1" shininess="0.1"/>
    <!-- 夹持器材质 -->
    <material name="gripper_material" rgba="1 1 1 1" specular="0.1" shininess="0.1"/>
    
    <!-- 网格定义 -->
    <!-- 网格定义 - 使用正确的路径和比例 -->
    <mesh name="base_link" file="../../meshes/xbot_arm/base_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_1_link" file="../../meshes/xbot_arm/arm_1_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_2_link" file="../../meshes/xbot_arm/arm_2_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_3_link" file="../../meshes/xbot_arm/arm_3_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_4_link" file="../../meshes/xbot_arm/arm_4_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_5_link" file="../../meshes/xbot_arm/arm_5_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="arm_6_link" file="../../meshes/xbot_arm/arm_6_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="gripper_1_link" file="../../meshes/xbot_arm/gripper_1_link.STL" scale="1.0 1.0 1.0"/>
    <mesh name="gripper_2_link" file="../../meshes/xbot_arm/gripper_2_link.STL" scale="1.0 1.0 1.0"/>
  </asset>
  
  <!-- 接触排除配置，避免自碰撞问题 -->
  <contact>
    <exclude body1="arm_1_link" body2="arm_3_link"/>
    <exclude body1="arm_1_link" body2="arm_4_link"/>
    <exclude body1="arm_2_link" body2="arm_4_link"/>
    <exclude body1="arm_2_link" body2="arm_5_link"/>
    <exclude body1="arm_3_link" body2="arm_5_link"/>
    <exclude body1="arm_3_link" body2="arm_6_link"/>
  </contact>
  
  <!-- 夹持器联动控制 -->
  <tendon>
    <fixed name="gripper_gear">
      <joint joint="gripper_1_joint" coef="1"/>
      <joint joint="gripper_2_joint" coef="1"/>
    </fixed>
  </tendon>
</mujocoinclude>